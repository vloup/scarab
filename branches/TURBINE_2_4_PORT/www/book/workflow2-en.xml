   <chapter>
		<title>Workflow</title>
		<sect1>
			<title>Introduction</title>
			<simpara>As has been said in the <emphasis>Workflow</emphasis> chapter of the <emphasis>Scarab User&apos;s Guide</emphasis>, Scarab has no &quot;hard-coded&quot; workflow. When saving issues, all state transitions are allowed and there is no interaction with any external system ever.</simpara>
			<simpara>Now let's have a look at how this is implemented.</simpara>
		</sect1>
		<sect1>
			<title>Workflows in Scarab</title>
			<simpara>At the programming level, a workflow is any java class that implements the <computeroutput>org.tigris.scarab.workflow.Workflow</computeroutput> interface (the source code of this interface is located under <computeroutput>src/java</computeroutput>).</simpara>
			<graphic fileref="images/uml-workflows.png" align="center"/>
			<simpara>The workflow is then instantiated dynamically at runtime by Turbine, according to a declaration in <computeroutput>Scarab.properties</computeroutput> (this file is located at runtime in the web application tree under <computeroutput>WEB-INF/conf</computeroutput>).</simpara>
			<programlisting>
<![CDATA[
# The workflow tool
# scarab.workflow.classname=org.tigris.scarab.workflow.DefaultWorkflow
scarab.workflow.classname=org.tigris.scarab.workflow.CheapWorkflow
]]>
            </programlisting>
		</sect1>
		<sect1>
			<title>DefaultWorkflow</title>
			<simpara>This was the default workflow for all versions of Scarab until milestone 19.</simpara>
			<simpara>This workflow is implemented in the <computeroutput>org.tigris.scarab.workflow.DefaultWorkflow</computeroutput> class. This class is a stub, that does nothing and allows all transitions.</simpara>
		</sect1>
		<sect1>
			<title>BasicWorkflow</title>
			<simpara>This is the default workflow for all Scarab versions from milestone 20. The way it works from the user point of view is explained in the <emphasis>User&apos;s Guide</emphasis>.</simpara>
			<simpara>This workflow is implemented in the <computeroutput>org.tigris.scarab.workflow.CheapWorkflow</computeroutput> class (againts the odds). It implements the <emphasis>Workflow</emphasis> interface indirectly by inheriting from the default workflow, <computeroutput>DefaultWorkflow</computeroutput> probably not to redefine certain default behaviours.</simpara>
		</sect1>
		<sect1>
			<title>Defining a new workflow</title>
			<simpara>To define a new workflow, using other mechanismes, communicating with one or several external systems or more adapted to the needs or processes of your organization, you just need to:</simpara>
			<itemizedlist>
				<listitem>
				<simpara>write a java class that implements the <computeroutput>org.tigris.scarab.workflow.Workflow</computeroutput> interface (either directly or by inheriting from <computeroutput>org.tigris.scarab.workflow.DefaultWorkflow</computeroutput>);</simpara>
				</listitem>
				<listitem>
				<simpara>set the name of this class in the <computeroutput>Scarab.properties</computeroutput> mentioned above.</simpara>
				</listitem>
			</itemizedlist>
		</sect1>
		<sect1>
		<title>Using WfmOpen as a Scarab workflow engine</title>
		<simpara>Someone wrote an interface between Scarab and the WfmOpen open-source workflow engine. This implementation, or the base of it, is currently stored in the SourceForge tracker at thie URL: <ulink url="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=961620&amp;group_id=76143&amp;atid=546206l">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=961620&amp;group_id=76143&amp;atid=546206</ulink>.</simpara>
			<simpara>The status of this development is unknown.</simpara>
		</sect1>
	</chapter>
