<chapter>
	<title>Développement Scarab avec Eclipse</title>
	<sect1>
		<title>Obtenir les sources de Scarab</title>
		<sect2>
			<title>Installer le plug-in Subclipse</title>
			<simpara>Vous aurez besoin du plug-in subclipse pour vous connecter au repository Subversion qui contient et gère le code source de Scarab.</simpara>
			<simpara>Si vous ne disposez pas de ce plug-in, vous pouvez consulter des instructions détaillées d'installation à cette URL:
		<ulink url="http://subclipse.tigris.org/install.html">http://subclipse.tigris.org/install.html</ulink>
			</simpara>
		</sect2>
		<sect2>
			<title>Se connecter au repository Subversion de Scarab</title>
			<para>Sélectionnez la perspective SVN Repository Exploring :</para>
			<screenshot>
				<graphic fileref="images/svn03.png"/>
			</screenshot>
			<para>Un clic droit dans la vue SVN Repository vous permet de vous connecter à un nouveau repository Subversion :</para>
			<screenshot>
				<graphic fileref="images/svn04.png"/>
			</screenshot>
			<para>L'URL de connexion est: <emphasis>http://scarab.tigris.org/svn/scarab</emphasis>
			</para>
			<para>et l'URL racine (Root URL): <emphasis>http://scarab.tigris.org/svn</emphasis>
			</para>
			<para>Si vous êtes un des <emphasis>committers</emphasis> de Scarab, utilisez vos identifiants sur tigris.org pour vous connecter;
	    sinon, vous n'avez pas besoin d'authentification et il n'est donc pas nécessaire de remplir les champs <emphasis>User</emphasis> et
	    <emphasis>Password</emphasis> (mais n'importe quelle paire <emphasis>User/Password</emphasis> fera aussi l'affaire).</para>
			<screenshot>
				<graphic fileref="images/svn05.png"/>
			</screenshot>
			<para>Pour extraire la version courante, choisissez la branche 'trunk' (l'équivalent de CVS HEAD pour ceux qui ont pratiqué ce système de contrôle de versions auparavant).</para>
			<screenshot>
				<graphic fileref="images/svn06.png"/>
			</screenshot>
			<para>Il vous suffit ensuite de l'extraire comme projet (Checkout As Project), ce qui vous permet de le renommer au passage car sinon il s'appellerait <emphasis>trunk</emphasis>, ce qui n'est pas très expressif. </para>
			<screenshot>
				<graphic fileref="images/svn07.png"/>
			</screenshot>
			<para>L'assistant Nouveau Projet (New Project) apparaît. Déclarez qu'il s'agit d'un projet Java.</para>
			<screenshot>
				<graphic fileref="images/svn08.png"/>
			</screenshot>
			<para>Le nom du projet vous est demandé (vous pouvez choisir <emphasis>scarab</emphasis> ou un autre nom à votre convenance).</para>
			<screenshot>
				<graphic fileref="images/svn09.png"/>
			</screenshot>
			<para>Si vous utilisez Eclipse 3.1, il vous est demandé en plus de préciser avec quel J2SDK scarab doit être compatible. Pour l'instant, l'équipe de développement s'est astreinte à conserver la compatibilité avec le JDK 1.3.</para>
			<screenshot>
				<graphic fileref="images/svn09b.png"/>
			</screenshot>
			<para>A la dernière étape de l'assistant, il est préférable de modifier le chemin de sortie <emphasis>(Default output folder)</emphasis> pour lui donner la valeur suivante: scarab/target/webapps/scarab/scarab/WEB-INF/classes</para>
			<screenshot>
				<graphic fileref="images/svn10.png"/>
			</screenshot>
		</sect2>
	</sect1>
	<sect1>
	    <title>Développement de Scarab dans Eclipse</title>
	    <sect2>
	        <title>Installer le plug-in Tomcat de Sysdeo</title>
	        <simpara>Le plug-in Tomcat permet de lancer et arrêter Tomcat à partir d'Eclipse et facilite le débogage de l'application en cours de développement.</simpara>
	        <simpara>Téléchargez la version 3.1 beta du plugin Tomcat de Sysdeo à cette URL: <ulink url="http://www.sysdeo.com/eclipse/tomcatplugin">http://www.sysdeo.com/eclipse/tomcatplugin</ulink>.</simpara>
	        <simpara>Pour installer ce plug-in, il suffit de décompresser l'archive ZIP dans le répertoire plugins de votre installation Eclipse.</simpara>
	    </sect2>
	    <sect2>
	        <title>Générer les fichiers nécessaires avec Maven</title>
	        <simpara>A la racine de votre projet Scarab, lancez les commandes:</simpara>
	        <simpara><computeroutput>maven war:inplace</computeroutput></simpara>
	        <simpara><computeroutput>maven eclipse</computeroutput></simpara>
	        <simpara>Cette dernière commande génère ou régénère un fichier .project nécessaire à Eclipse</simpara>
	    </sect2>
	    <sect2>
			<title>Configurer et utiliser le plug-in Tomcat</title>
			<sect3>
			    <title>Reconstruire le projet</title>
			    <simpara>Relancez le build du projet Scarab dans Eclipse.</simpara>
			</sect3>
			<sect3>
			    <title>Configurer les préférences de Tomcat</title>
			    <simpara>Dans Window | Preferences... | Tomcat :</simpara>
			<screenshot>
				<graphic fileref="images/sysdeo1.png"/>
			</screenshot>
			    <itemizedlist>
			        <listitem><simpara>Sélectionnez la version 4.0.x</simpara></listitem>
			        <listitem><simpara>Répertoire de Tomcat: le répertoire tomcat dans votre projet Scarab</simpara></listitem>
			        <listitem><simpara>Déclaration des contextes: dans server.xml</simpara></listitem>
			    </itemizedlist>
			</sect3>
			<sect3>
			   <title>Configurer les propriétés Tomcat du projet</title>
			   <simpara>Dans Project | Properties | Tomcat :</simpara>
			<screenshot>
				<graphic fileref="images/sysdeo1.png"/>
			</screenshot>
			<itemizedlist>
			    <listitem><simpara>Cochez l'option 'Est un projet Tomcat'</simpara></listitem>
			    <listitem><simpara>Nom du contexte: scarab</simpara></listitem>
			    <listitem><simpara>Décochez l'option 'Autoriser la mise à jour de la définition du contexte'</simpara></listitem>
			    <listitem><simpara>Cochez l'option 'Autoriser le rechargement automatique de ce contexte' (cette option est normalement cochée par défaut)</simpara></listitem>
			    <listitem><simpara>Cochez l'option 'Rediriger les logs de ce contexte vers la console Eclipse'</simpara></listitem>
			</itemizedlist>
			</sect3>
	    </sect2>
	</sect1>
</chapter>
