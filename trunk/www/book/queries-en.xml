<!-- $Id -->
<chapter>
	<!-- Source: UserQuery section in the online help	  -->
	<title>Searching for issues&nbsp;: queries</title>
	<para>Query functionality includes defining a very specific query, using a customized query, using saved queries and accessing specific issue IDs. You can also use the Issue List to access the last query.</para>
	<itemizedlist>
		<listitem>
			<para>Know issue number: enter it in &quot;Issue ID&quot; field.</para>
		</listitem>
		<listitem>
			<para>Know attribute values for issue: use advanced query</para>
		</listitem>
		<listitem>
			<para>Know approximate information about issue: use custom query.</para>
		</listitem>
		<listitem>
			<para>Already defined search parameters: use saved queries</para>
		</listitem>
	</itemizedlist>
	<para>For ease of use, frequently used queries can be saved. Use the left navigation link or the query bar to access saved queries.</para>
	<sect1>
		<title>The Query bar</title>
		<para>The query bar provides quick access to frequently used search functionality.</para>
		<itemizedlist>
			<listitem>
				<para>If you have any saved queries, they will appear in the drop down box on this bar.</para>
			</listitem>
			<listitem>
				<para>The Issue ID form allows you to search the database for a specific issue ID.</para>
			</listitem>
			<listitem>
				<para>Advanced query allows you to specify detailed search criteria.</para>
			</listitem>
			<listitem>
				<para>Custom query is a text string search feature.</para>
			</listitem>
			<listitem>
				<para>Most recent will run the last query or any saved query you have set as a default.</para>
			</listitem>
		</itemizedlist>
	</sect1>
	<sect1>
		<title>Issue ID</title>
		<para>To access a specific issue enter the issue number in the search form and click the Issue ID. If the ID you requested is not found an error message will appear and you can enter a different ID.</para>
		<para>Accessing issues across projects requires the following information:</para>
		<itemizedlist>
			<listitem>
				<para>permission to view issues in the target project</para>
			</listitem>
			<listitem>
				<para>short name of the target project</para>
			</listitem>
			<listitem>
				<para>issue number </para>
			</listitem>
		</itemizedlist>
		<para>For instance, jdoe is in the games (gam) project and wants to view an issue from the interface (int) project. Jdoe can enter INT1 and click the Issue ID button to view the first issue in the Interface project.</para>
		<para>If you do not have permission to view issues in the target project you will receive an error message. Likewise, if you enter an invalid project ID or issue number an error message will be generated.</para>
	</sect1>
	<sect1>
		<!-- Source: UserQueryAdvanced section of the online help -->
		<title>Advanced queries</title>
		<para>The advanced query form provides an interface for you to unambiguously define your search criteria. You can use this form to enter values for some, all or none of the attributes available in your issue type. You can further qualify your search criteria by requesting issues within a particular number range or date range. Say you want to know all closed issues relating to the AIX operating system within the last week. You can enter a date range (use the MM/DD/YYYY format, for instance, 01/01/2002) and define specific values for the operating system and status attributes.  Click option from the Select query list on the query bar. Clicking the Submit button will run the query.</para>
		<para>You can define values for some, none or all of the attributes. Scarab will search the knowledge base for issues that contain all of the values you have specified. The advanced query form allows you to define fine grained search criteria. There are three types of search criteria available on the advanced query form:</para>
		<itemizedlist>
			<listitem>
				<para>Search the knowledge base</para>
			</listitem>
			<listitem>
				<para>Searching by personnel</para>
			</listitem>
			<listitem>
				<para>Searching by state change</para>
			</listitem>
		</itemizedlist>
		<para>You can use each of these sections individually or a combination to qualify your searches. If you run a query without defining any attributes all issues associated with the logged in user ID will be returned. </para>
		<sect2>
			<title>Search the knowledge base</title>
			<para>The  <emphasis role="bold">Search the knowledge base</emphasis>. section provides a space for you to define values for issue attributes. Each attribute that is available to your issue type is represented here. You can define values for all, some or none of the issue attributes. You can also limit your search to a range of issues or creation dates. .</para>
			<para>Once the issue is submitted, the database will be searched for issues containing the values for all of the attributes defined in your search criteria. To effectively find the issues you are most interested in you want to define only the attributes that will meet your criteria. If you define attributes outside of your requirements you will be less likely to find any issues that meet your criteria. For instance, jdoe is looking for issues involving database errors affecting one of the UNIX operating systems. Rather than defining a value for the operating system, jdoe can create a search that will search for text strings about the database errors. If jdoe needs to refine the search criteria further, other attributes can be defined. When defining your search criteria, you should start with the smallest set of characteristics relevant to your needs.</para>
		</sect2>
		<sect2>
			<title>Searching by personnel</title>
			<para>The  <emphasis role="bold">Searching by personnel</emphasis> section allows you to search for issues based on users associated. Depending on what user attributes have been defined, you can search by the commitor and/or the assignee. All users that are associated with issues in the issue can be selected from a user attribute in this section. You can select as many users as you need.</para>
		</sect2>
		<sect2>
			<title>Searching by state change</title>
			<para>This field allows you to set an attribute you would like to monitor and the original value and expected new value. For instance, you may want to know all issues that have changed from a low severity to a high severity. Additionally, you can monitor these changes within a date range. For example, you may be interested in knowing which issues have changed severity within the last week. Clicking the "Update options" button saves your changes to the query. You can also set your results view preferences at this time. When the view preference is based on Issue state or status, the sort order is not necessarily alphabetical. It mirrors the order for the attribute which is determined by an administrator. You can alter the search order and the number of issues that appear per page. You can submit your query at this time or choose to save it. </para>
		</sect2>
	</sect1>
	<sect1>
		<!-- Source: UserQueryCustom section of the online help  -->
		<title>Custom queries</title>
		<para>Custom queries allow you to search the database based on a refined set of parameters. You can search on any of the text attributes as well as any other attribute your project owner has included as a quick search parameter.</para>
		<para>For this section, select the attributes you would like to search against then enter a search string. Each attribute will be searched for every term that appears in your search string. For instance, the Game project has the 
    <emphasis role="bold">Summary, Description, Story-line</emphasis> and <emphasis role="bold">Error message</emphasis> string attributes. You are interested in any issue that involves the usage of a joystick. You can select one, some or all of the text attributes and then enter "joystick" in the search string. Once the search is initiated, all entries in the attributes you have chosen will be searched for the term "joystick".</para>
		<para>You can use this form to determine how you would like the search results displayed. You can select what attribute you would like the results ordered by as well as the number of issues you would like to see per page.</para>
	</sect1>
	<sect1>
		<!-- Source: UserQuerySaved section of the online help  -->
		<title>Saved queries</title>
		<para>Once you have a well defined set of search parameters you may want to save them for future use. Saved queries can be used to generate reminders, keep you informed of progress on issues or to quickly access a specific issue configuration. You may have access to globally available saved queries or create your own.</para>
		<para>
			<emphasis role="bold">Saving queries</emphasis>
		</para>
		<para>To create a saved query access the <emphasis role="bold">Advanced queries</emphasis> page and define your search parameters (for more information see Advanced). Click the
    <emphasis role="bold">Save this query</emphasis> button. Stored queries are accessible through the <emphasis role="bold">Saved queries</emphasis> link on the left navigation bar or in the drop down box on the query bar. The saved query drop box only appears if you have stored queries.</para>
		<para>The  <emphasis role="bold">Save this request</emphasis> screen is where you can give your saved query a unique identifier. Your query name should be short and descriptive. The Saved query name appears in the Query bar. You can add a description to further identify your query. The query description appears in the saved query list screen and can help users make a better determination of which query to use.</para>
		<para>For example, you have defined several queries that search for issues that relate to the AIX operating system. One of your queries specifically look for all new high priority issues entered. A second query may search for all closed high priority issues. The first query is named AIXopen, the second AIXclosed. You can use the description field to remind yourself that these issues are specifically for high priority issues.</para>
		<para>Before you can save your query you need to determine the availability. Your query can be available only to yourself by selecting "personal" from the drop down list. If you think your query is of value to all members of the project, you can select "global." If you do not have permission to create a global saved query, the query will be submitted to the administrator for approval (see Approval for further information on the approval process).</para>
		<para>Click the  <emphasis role="bold">Save</emphasis> button to complete the saving process.</para>
		<para>
			<emphasis role="bold">Managing saved queries</emphasis>
		</para>
		<para>The  <emphasis role="bold">Stored query</emphasis> page is used to manage the saved queries. All queries that are available for this issue type appear in this table. Click on the name of the query to access the query edit screen. The location link will execute the query. Clicking on the name in the <emphasis role="bold">Initiated by</emphasis> 
    field will provide an email form, using your browsers default email interface. You can also set a default query and subscribe (see below for more information).</para>
		<para>You can use the buttons to affect multiple queries simultaneously. Use the checkboxes to select the queries you would like to affect.</para>
		<itemizedlist>
			<listitem>
				<para>The <emphasis role="bold">Copy</emphasis> button will create a copy of the query. You can click the name of the copy to edit. Using this feature can help you to create fine grained saved queries.</para>
			</listitem>
			<listitem>
				<para>The  <emphasis role="bold">Remove</emphasis> button will remove the saved query from your list. You can delete any of your personal saved queries.</para>
			</listitem>
		</itemizedlist>
	</sect1>
	<sect1>
		<!-- Source: UserQueryCrossProject section in the online help  -->
		<title>Cross module queries</title>
		<para>Cross module queries allow you to search  multiple modules or issue types or both in a single query.  Upon accessing Scarab from the navigation bar, you can click on the <emphasis role="bold">Build cross module query</emphasis> tab. On this tab, you can either select a previously saved cross module query, or create a new one.</para>
		<para>The <emphasis role="bold">Projects / issue in this domain</emphasis> table lists all issue types in all modules available to be added to your query. Projects are only available if you have permissions that allow you to query in that module. Add issue types to your query by checking the checkbox in the <emphasis role="bold">Select</emphasis> column and clicking the <emphasis role="bold">Add selected</emphasis> button. This will move the selected issue types to the <emphasis role="bold">Build list of issue types</emphasis> section. You can remove all issue types from you query by clicking the <emphasis role="bold">Remove all</emphasis> button or remove only selected issue types by clicking the <emphasis role="bold">Remove selected</emphasis> button. </para>
		<para>Once you have selected all of the issue types you want included in your query, you can save the list for future use by clicking the <emphasis role="bold">Save</emphasis> button. You must then complete the <emphasis role="bold">Name</emphasis> field and click the <emphasis role="bold">Save</emphasis> button again.</para>
		<para>To begin you query, click the <emphasis role="bold">Define query</emphasis> button. This will take you to the <emphasis role="bold">Advanced query</emphasis> page where you can define your query criteria as you would for a single module query. For details on building queries, see Advanced query.</para>
	</sect1>
</chapter>
